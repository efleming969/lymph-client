"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
class WindowEnvironment {
    constructor(window) {
        this.window = window;
    }
    fetch(path, options) {
        return this.window.fetch(path, options);
    }
    changeLocation(path) {
        this.window.location.assign(path);
    }
    writeStorage(location, data) {
        this.window.localStorage.setItem(location, data);
    }
    readStorage(location) {
        return this.window.localStorage.getItem(location);
    }
    dispatch(action_name, data) {
        const action_event = new this.window.CustomEvent("action", {
            detail: { name: action_name, data },
            bubbles: true,
            cancelable: true
        });
        this.window.dispatchEvent(action_event);
    }
}
exports.WindowEnvironment = WindowEnvironment;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiRW52aXJvbm1lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvRW52aXJvbm1lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFjQTtJQUNJLFlBQXNCLE1BQU07UUFBTixXQUFNLEdBQU4sTUFBTSxDQUFBO0lBQzVCLENBQUM7SUFFRCxLQUFLLENBQUcsSUFBWSxFQUFFLE9BQVk7UUFDOUIsTUFBTSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFFLElBQUksRUFBRSxPQUFPLENBQUUsQ0FBQTtJQUM3QyxDQUFDO0lBRUQsY0FBYyxDQUFHLElBQVk7UUFDekIsSUFBSSxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFFLElBQUksQ0FBRSxDQUFBO0lBQ3ZDLENBQUM7SUFFRCxZQUFZLENBQUcsUUFBZ0IsRUFBRSxJQUFZO1FBQ3pDLElBQUksQ0FBQyxNQUFNLENBQUMsWUFBWSxDQUFDLE9BQU8sQ0FBRSxRQUFRLEVBQUUsSUFBSSxDQUFFLENBQUE7SUFDdEQsQ0FBQztJQUVELFdBQVcsQ0FBRyxRQUFnQjtRQUMxQixNQUFNLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxZQUFZLENBQUMsT0FBTyxDQUFFLFFBQVEsQ0FBRSxDQUFBO0lBQ3ZELENBQUM7SUFFRCxRQUFRLENBQUcsV0FBbUIsRUFBRSxJQUFTO1FBQ3JDLE1BQU0sWUFBWSxHQUFHLElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQyxXQUFXLENBQUUsUUFBUSxFQUFFO1lBQ3hELE1BQU0sRUFBRSxFQUFFLElBQUksRUFBRSxXQUFXLEVBQUUsSUFBSSxFQUFFO1lBQ25DLE9BQU8sRUFBRSxJQUFJO1lBQ2IsVUFBVSxFQUFFLElBQUk7U0FDbkIsQ0FBRSxDQUFBO1FBRUgsSUFBSSxDQUFDLE1BQU0sQ0FBQyxhQUFhLENBQUUsWUFBWSxDQUFFLENBQUE7SUFDN0MsQ0FBQztDQUNKO0FBN0JELDhDQTZCQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBIVFRQIGZyb20gXCIuL0hUVFBcIlxuXG5leHBvcnQgaW50ZXJmYWNlIEVudmlyb25tZW50IHtcbiAgICBmZXRjaCAoIHBhdGg6IHN0cmluZywgb3B0aW9uczogYW55ICk6IFByb21pc2U8YW55PlxuXG4gICAgY2hhbmdlTG9jYXRpb24oIHBhdGg6IHN0cmluZyApOiB2b2lkXG5cbiAgICB3cml0ZVN0b3JhZ2UoIGxvY2F0aW9uOiBzdHJpbmcsIGRhdGE6IGFueSApOiB2b2lkXG5cbiAgICByZWFkU3RvcmFnZSggbG9jYXRpb246IHN0cmluZyApOiBhbnlcblxuICAgIGRpc3BhdGNoKCBhY3Rpb25fbmFtZTogc3RyaW5nLCBkYXRhOiBhbnkgKTogdm9pZFxufVxuXG5leHBvcnQgY2xhc3MgV2luZG93RW52aXJvbm1lbnQgaW1wbGVtZW50cyBFbnZpcm9ubWVudCB7XG4gICAgY29uc3RydWN0b3IgKCBwcml2YXRlIHdpbmRvdyApIHtcbiAgICB9XG5cbiAgICBmZXRjaCAoIHBhdGg6IHN0cmluZywgb3B0aW9uczogYW55ICk6IFByb21pc2U8YW55PiB7XG4gICAgICAgIHJldHVybiB0aGlzLndpbmRvdy5mZXRjaCggcGF0aCwgb3B0aW9ucyApXG4gICAgfVxuXG4gICAgY2hhbmdlTG9jYXRpb24gKCBwYXRoOiBzdHJpbmcgKTogdm9pZCB7XG4gICAgICAgIHRoaXMud2luZG93LmxvY2F0aW9uLmFzc2lnbiggcGF0aCApXG4gICAgfVxuXG4gICAgd3JpdGVTdG9yYWdlICggbG9jYXRpb246IHN0cmluZywgZGF0YTogc3RyaW5nICk6IHZvaWQge1xuICAgICAgICB0aGlzLndpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbSggbG9jYXRpb24sIGRhdGEgKVxuICAgIH1cblxuICAgIHJlYWRTdG9yYWdlICggbG9jYXRpb246IHN0cmluZyApOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy53aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oIGxvY2F0aW9uIClcbiAgICB9XG5cbiAgICBkaXNwYXRjaCAoIGFjdGlvbl9uYW1lOiBzdHJpbmcsIGRhdGE6IGFueSApOiB2b2lkIHtcbiAgICAgICAgY29uc3QgYWN0aW9uX2V2ZW50ID0gbmV3IHRoaXMud2luZG93LkN1c3RvbUV2ZW50KCBcImFjdGlvblwiLCB7XG4gICAgICAgICAgICBkZXRhaWw6IHsgbmFtZTogYWN0aW9uX25hbWUsIGRhdGEgfSxcbiAgICAgICAgICAgIGJ1YmJsZXM6IHRydWUsXG4gICAgICAgICAgICBjYW5jZWxhYmxlOiB0cnVlXG4gICAgICAgIH0gKVxuXG4gICAgICAgIHRoaXMud2luZG93LmRpc3BhdGNoRXZlbnQoIGFjdGlvbl9ldmVudCApXG4gICAgfVxufVxuIl19