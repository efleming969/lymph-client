import * as HTTP from "./HTTP";
import { createFakeFetch } from "./TestUtils";
test("successful post and command", function () {
    var send = HTTP.sendCommand(createFakeFetch({ status: 200, data: { name: "foo" } }));
    return send("/api/post1", {}, "jwt").then(function (response) {
        expect(response).toEqual({ status: 200, data: { name: "foo" } });
    });
});
test("successful post, but server rejected command", function () {
    var send = HTTP.sendCommand(createFakeFetch({ status: 400, data: { message: "bar" } }));
    return send("/api/post1", {}, "jwt").then(function (response) {
        expect(response).toEqual({ status: 400, data: { message: "bar" } });
    });
});
test("successful get with returned data", function () {
    var send = HTTP.sendQuery(createFakeFetch({ status: 200, data: { name: "foo" } }));
    return send("/api/get1", "jwt").then(function (response) {
        expect(response).toEqual({ status: 200, data: { name: "foo" } });
    });
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiSFRUUFRlc3RzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vc3JjL0hUVFBUZXN0cy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEtBQUssSUFBSSxNQUFNLFFBQVEsQ0FBQTtBQUM5QixPQUFPLEVBQUUsZUFBZSxFQUFFLE1BQU0sYUFBYSxDQUFBO0FBRTdDLElBQUksQ0FBRSw2QkFBNkIsRUFBRTtJQUNqQyxJQUFNLElBQUksR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFFLGVBQWUsQ0FBRSxFQUFFLE1BQU0sRUFBRSxHQUFHLEVBQUUsSUFBSSxFQUFFLEVBQUUsSUFBSSxFQUFFLEtBQUssRUFBRSxFQUFFLENBQUUsQ0FBRSxDQUFBO0lBRTFGLE1BQU0sQ0FBQyxJQUFJLENBQUUsWUFBWSxFQUFFLEVBQUUsRUFBRSxLQUFLLENBQUUsQ0FBQyxJQUFJLENBQUUsVUFBVyxRQUFRO1FBQzVELE1BQU0sQ0FBRSxRQUFRLENBQUUsQ0FBQyxPQUFPLENBQUUsRUFBRSxNQUFNLEVBQUUsR0FBRyxFQUFFLElBQUksRUFBRSxFQUFFLElBQUksRUFBRSxLQUFLLEVBQUUsRUFBRSxDQUFFLENBQUE7SUFDeEUsQ0FBQyxDQUFFLENBQUE7QUFFUCxDQUFDLENBQUUsQ0FBQTtBQUVILElBQUksQ0FBRSw4Q0FBOEMsRUFBRTtJQUNsRCxJQUFNLElBQUksR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFFLGVBQWUsQ0FBRSxFQUFFLE1BQU0sRUFBRSxHQUFHLEVBQUUsSUFBSSxFQUFFLEVBQUUsT0FBTyxFQUFFLEtBQUssRUFBRSxFQUFFLENBQUUsQ0FBRSxDQUFBO0lBRTdGLE1BQU0sQ0FBQyxJQUFJLENBQUUsWUFBWSxFQUFFLEVBQUUsRUFBRSxLQUFLLENBQUUsQ0FBQyxJQUFJLENBQUUsVUFBVyxRQUFRO1FBQzVELE1BQU0sQ0FBRSxRQUFRLENBQUUsQ0FBQyxPQUFPLENBQUUsRUFBRSxNQUFNLEVBQUUsR0FBRyxFQUFFLElBQUksRUFBRSxFQUFFLE9BQU8sRUFBRSxLQUFLLEVBQUUsRUFBRSxDQUFFLENBQUE7SUFDM0UsQ0FBQyxDQUFFLENBQUE7QUFDUCxDQUFDLENBQUUsQ0FBQTtBQUVILElBQUksQ0FBRSxtQ0FBbUMsRUFBRTtJQUN2QyxJQUFNLElBQUksR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFFLGVBQWUsQ0FBRSxFQUFFLE1BQU0sRUFBRSxHQUFHLEVBQUUsSUFBSSxFQUFFLEVBQUUsSUFBSSxFQUFFLEtBQUssRUFBRSxFQUFFLENBQUUsQ0FBRSxDQUFBO0lBRXhGLE1BQU0sQ0FBQyxJQUFJLENBQUUsV0FBVyxFQUFFLEtBQUssQ0FBRSxDQUFDLElBQUksQ0FBRSxVQUFXLFFBQVE7UUFDdkQsTUFBTSxDQUFFLFFBQVEsQ0FBRSxDQUFDLE9BQU8sQ0FBRSxFQUFFLE1BQU0sRUFBRSxHQUFHLEVBQUUsSUFBSSxFQUFFLEVBQUUsSUFBSSxFQUFFLEtBQUssRUFBRSxFQUFFLENBQUUsQ0FBQTtJQUN4RSxDQUFDLENBQUUsQ0FBQTtBQUNQLENBQUMsQ0FBRSxDQUFBIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgSFRUUCBmcm9tIFwiLi9IVFRQXCJcbmltcG9ydCB7IGNyZWF0ZUZha2VGZXRjaCB9IGZyb20gXCIuL1Rlc3RVdGlsc1wiXG5cbnRlc3QoIFwic3VjY2Vzc2Z1bCBwb3N0IGFuZCBjb21tYW5kXCIsIGZ1bmN0aW9uICgpIHtcbiAgICBjb25zdCBzZW5kID0gSFRUUC5zZW5kQ29tbWFuZCggY3JlYXRlRmFrZUZldGNoKCB7IHN0YXR1czogMjAwLCBkYXRhOiB7IG5hbWU6IFwiZm9vXCIgfSB9ICkgKVxuXG4gICAgcmV0dXJuIHNlbmQoIFwiL2FwaS9wb3N0MVwiLCB7fSwgXCJqd3RcIiApLnRoZW4oIGZ1bmN0aW9uICggcmVzcG9uc2UgKSB7XG4gICAgICAgIGV4cGVjdCggcmVzcG9uc2UgKS50b0VxdWFsKCB7IHN0YXR1czogMjAwLCBkYXRhOiB7IG5hbWU6IFwiZm9vXCIgfSB9IClcbiAgICB9IClcblxufSApXG5cbnRlc3QoIFwic3VjY2Vzc2Z1bCBwb3N0LCBidXQgc2VydmVyIHJlamVjdGVkIGNvbW1hbmRcIiwgZnVuY3Rpb24gKCkge1xuICAgIGNvbnN0IHNlbmQgPSBIVFRQLnNlbmRDb21tYW5kKCBjcmVhdGVGYWtlRmV0Y2goIHsgc3RhdHVzOiA0MDAsIGRhdGE6IHsgbWVzc2FnZTogXCJiYXJcIiB9IH0gKSApXG5cbiAgICByZXR1cm4gc2VuZCggXCIvYXBpL3Bvc3QxXCIsIHt9LCBcImp3dFwiICkudGhlbiggZnVuY3Rpb24gKCByZXNwb25zZSApIHtcbiAgICAgICAgZXhwZWN0KCByZXNwb25zZSApLnRvRXF1YWwoIHsgc3RhdHVzOiA0MDAsIGRhdGE6IHsgbWVzc2FnZTogXCJiYXJcIiB9IH0gKVxuICAgIH0gKVxufSApXG5cbnRlc3QoIFwic3VjY2Vzc2Z1bCBnZXQgd2l0aCByZXR1cm5lZCBkYXRhXCIsIGZ1bmN0aW9uICgpIHtcbiAgICBjb25zdCBzZW5kID0gSFRUUC5zZW5kUXVlcnkoIGNyZWF0ZUZha2VGZXRjaCggeyBzdGF0dXM6IDIwMCwgZGF0YTogeyBuYW1lOiBcImZvb1wiIH0gfSApIClcblxuICAgIHJldHVybiBzZW5kKCBcIi9hcGkvZ2V0MVwiLCBcImp3dFwiICkudGhlbiggZnVuY3Rpb24gKCByZXNwb25zZSApIHtcbiAgICAgICAgZXhwZWN0KCByZXNwb25zZSApLnRvRXF1YWwoIHsgc3RhdHVzOiAyMDAsIGRhdGE6IHsgbmFtZTogXCJmb29cIiB9IH0gKVxuICAgIH0gKVxufSApIl19