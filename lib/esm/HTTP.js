export var sendCommand = function (fetch) {
    return function (path, data, auth_token) {
        var options = {
            method: "POST",
            mode: "cors",
            headers: {
                "Content-Type": "application/json",
                "Authorization": auth_token,
                "Accept": "application/json"
            },
            body: JSON.stringify(data)
        };
        return fetch(path, options).then(function (response) {
            return response.json().then(function (data) {
                return { data: data, status: response.status };
            });
        });
    };
};
export var sendQuery = function (fetch) {
    return function (path, auth_token) {
        var options = {
            method: "GET",
            mode: "cors",
            headers: {
                "Content-Type": "application/json",
                "Authorization": auth_token,
                "Accept": "application/json"
            }
        };
        return fetch(path, options).then(function (response) {
            return response.json().then(function (data) {
                return { data: data, status: response.status };
            });
        });
    };
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiSFRUUC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9IVFRQLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE1BQU0sQ0FBQyxJQUFNLFdBQVcsR0FBRyxVQUFXLEtBQUs7SUFDdkMsTUFBTSxDQUFDLFVBQVcsSUFBSSxFQUFFLElBQUksRUFBRSxVQUFVO1FBQ3BDLElBQU0sT0FBTyxHQUFHO1lBQ1osTUFBTSxFQUFFLE1BQU07WUFDZCxJQUFJLEVBQUUsTUFBTTtZQUNaLE9BQU8sRUFBRTtnQkFDTCxjQUFjLEVBQUUsa0JBQWtCO2dCQUNsQyxlQUFlLEVBQUUsVUFBVTtnQkFDM0IsUUFBUSxFQUFFLGtCQUFrQjthQUMvQjtZQUNELElBQUksRUFBRSxJQUFJLENBQUMsU0FBUyxDQUFFLElBQUksQ0FBRTtTQUMvQixDQUFBO1FBRUQsTUFBTSxDQUFDLEtBQUssQ0FBRSxJQUFJLEVBQUUsT0FBTyxDQUFFLENBQUMsSUFBSSxDQUFFLFVBQVcsUUFBUTtZQUNuRCxNQUFNLENBQUMsUUFBUSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUksQ0FBRSxVQUFXLElBQUk7Z0JBQ3hDLE1BQU0sQ0FBQyxFQUFFLElBQUksTUFBQSxFQUFFLE1BQU0sRUFBRSxRQUFRLENBQUMsTUFBTSxFQUFFLENBQUE7WUFDNUMsQ0FBQyxDQUFFLENBQUE7UUFDUCxDQUFDLENBQUUsQ0FBQTtJQUNQLENBQUMsQ0FBQTtBQUNMLENBQUMsQ0FBQTtBQUVELE1BQU0sQ0FBQyxJQUFNLFNBQVMsR0FBRyxVQUFXLEtBQUs7SUFDckMsTUFBTSxDQUFDLFVBQVcsSUFBSSxFQUFFLFVBQVU7UUFDOUIsSUFBTSxPQUFPLEdBQUc7WUFDWixNQUFNLEVBQUUsS0FBSztZQUNiLElBQUksRUFBRSxNQUFNO1lBQ1osT0FBTyxFQUFFO2dCQUNMLGNBQWMsRUFBRSxrQkFBa0I7Z0JBQ2xDLGVBQWUsRUFBRSxVQUFVO2dCQUMzQixRQUFRLEVBQUUsa0JBQWtCO2FBQy9CO1NBQ0osQ0FBQTtRQUVELE1BQU0sQ0FBQyxLQUFLLENBQUUsSUFBSSxFQUFFLE9BQU8sQ0FBRSxDQUFDLElBQUksQ0FBRSxVQUFXLFFBQVE7WUFDbkQsTUFBTSxDQUFDLFFBQVEsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJLENBQUUsVUFBVyxJQUFJO2dCQUN4QyxNQUFNLENBQUMsRUFBRSxJQUFJLE1BQUEsRUFBRSxNQUFNLEVBQUUsUUFBUSxDQUFDLE1BQU0sRUFBRSxDQUFBO1lBQzVDLENBQUMsQ0FBRSxDQUFBO1FBQ1AsQ0FBQyxDQUFFLENBQUE7SUFDUCxDQUFDLENBQUE7QUFDTCxDQUFDLENBQUEiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3Qgc2VuZENvbW1hbmQgPSBmdW5jdGlvbiAoIGZldGNoICkge1xuICAgIHJldHVybiBmdW5jdGlvbiAoIHBhdGgsIGRhdGEsIGF1dGhfdG9rZW4gKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICAgICAgbW9kZTogXCJjb3JzXCIsXG4gICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICAgICAgICAgICAgXCJBdXRob3JpemF0aW9uXCI6IGF1dGhfdG9rZW4sXG4gICAgICAgICAgICAgICAgXCJBY2NlcHRcIjogXCJhcHBsaWNhdGlvbi9qc29uXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSggZGF0YSApXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmV0Y2goIHBhdGgsIG9wdGlvbnMgKS50aGVuKCBmdW5jdGlvbiAoIHJlc3BvbnNlICkge1xuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKS50aGVuKCBmdW5jdGlvbiAoIGRhdGEgKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgZGF0YSwgc3RhdHVzOiByZXNwb25zZS5zdGF0dXMgfVxuICAgICAgICAgICAgfSApXG4gICAgICAgIH0gKVxuICAgIH1cbn1cblxuZXhwb3J0IGNvbnN0IHNlbmRRdWVyeSA9IGZ1bmN0aW9uICggZmV0Y2ggKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICggcGF0aCwgYXV0aF90b2tlbiApIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHtcbiAgICAgICAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgICAgICAgIG1vZGU6IFwiY29yc1wiLFxuICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgICAgICAgICAgICAgIFwiQXV0aG9yaXphdGlvblwiOiBhdXRoX3Rva2VuLFxuICAgICAgICAgICAgICAgIFwiQWNjZXB0XCI6IFwiYXBwbGljYXRpb24vanNvblwiXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmV0Y2goIHBhdGgsIG9wdGlvbnMgKS50aGVuKCBmdW5jdGlvbiAoIHJlc3BvbnNlICkge1xuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKS50aGVuKCBmdW5jdGlvbiAoIGRhdGEgKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgZGF0YSwgc3RhdHVzOiByZXNwb25zZS5zdGF0dXMgfVxuICAgICAgICAgICAgfSApXG4gICAgICAgIH0gKVxuICAgIH1cbn1cbiJdfQ==